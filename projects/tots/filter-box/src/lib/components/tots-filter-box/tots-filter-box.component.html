<button #filterMainButton="matMenuTrigger" mat-button [matMenuTriggerFor]="filters" class="btn-filter">
    <mat-icon matBadge="{{ actives.length }}" [matBadgeHidden]="actives.length < 1" matBadgePosition="before">tune</mat-icon>
    <span *ngIf="config && !config.isOnlyIconButton">{{config.textButton}}</span>
</button>

<mat-menu #filters="matMenu" class="container-filters-menu" (closed)="onApplyFilters()">
    <div class="filters-menu" (click)="$event.stopPropagation()">

        <div class="header">
            <h5><b>{{config.textButton}}</b></h5>
            <div class="actions">
                <button *ngIf="actives.length > 0" mat-button class="btn-clean-filter" (click)="onClearFilters()">{{config.textClearButton}}</button>
                <button mat-icon-button (click)="filterMainButton.closeMenu()"><mat-icon>close</mat-icon></button>
            </div>
            
        </div>

        <div class="filter" *ngFor="let filter of actives; let index = index;">
            <div class="tots-simulated-select filter-selected">
                <span>{{filter.filter.title}}</span>
                <!--<mat-icon>arrow_drop_down</mat-icon>-->
            </div>
            <tots-print-filter [item]="filter" (change)="onChange()"></tots-print-filter>
            <button mat-icon-button (click)="onRemoveFilter(index)"><mat-icon>delete_forever</mat-icon></button>
        </div>

        <button #addFilterButton="matMenuTrigger" mat-button color="primary" class="btn-add-filter" [matMenuTriggerFor]="addFilter">{{config.textAddButton}}</button>

    </div>
</mat-menu>

<mat-menu #addFilter="matMenu" style="width: 220px !important; max-width: 100vw !important;" [class]="'add-filter-menu'"  class="add-filter-menu">
    <h5 style="margin: 0; padding: 16px 16px"><b>{{config.textButton}}</b></h5>
    <button mat-menu-item *ngFor="let filter of config.filters" (click)="onAddFilter(filter); $event.stopPropagation();">{{filter.title}}</button>
</mat-menu>